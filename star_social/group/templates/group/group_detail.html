{% extends 'base.html' %}

{% block body_block %}

    <h1>{{group.name}}</h1>
    <p>{{group.description}}</p>
    <h2>Member count: {{group.users.count}}</h2>
    {% if is_member %}
        <a href="{% url 'group:remove_member' pk=group.pk %}"><button type="button" class="btn btn-warning"><i class="bi bi-x-circle"></i></i> Leave</button></a>
    {% else %}
        <a href="{% url 'group:add_member' pk=group.pk %}"><button type="button" class="btn btn-warning"><i class="bi bi-person-plus"></i> Join</button></a>
    {% endif %}
    <br>

    <div style="padding-top: 2em;" class="post_table">
        <table >
            {% for post in group.posts.all %}
            <tr style=" vertical-align: text-top;">
                <td>
                    <a href="{% url 'post:list_posts' user=post.user %}"><h3>@{{post.user}}</h3></a>
                </td>
                <td style="padding-left: 2em;">
                    <p>{{post.content}}</p>
                    <p><a href="{% url 'post:post_detail' user=post.user pk=post.pk %}">{{post.create_date}}</a> in {{post.group}}</p>
                    <a href="{% url 'post:post_delete' user=post.user pk=post.pk%}"><p class="delete_post_text"><i class="bi bi-x-circle-fill"></i> Delete</p></a>
                </td>
            </tr>
            {% endfor %}
        </table>
    </div>

{% endblock body_block %}